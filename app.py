# --- 5. Sidebar & Market Toggle ---
with st.sidebar:
    st.markdown("### ЁЯМН SELECT MARKET")
    market_mode = st.radio("Toggle Global Market:", ["ЁЯЗоЁЯЗ│ Indian Market (NSE)", "тВ┐ Crypto Market (24/7)"], index=0)
    st.divider()

    # ==========================================
    # ЁЯТб DAILY TRADING RULE (Safe Version)
    # ==========================================
    TRADING_RULES = [
        "рзз. ржЖрждрзНржоржирж┐рзЯржирзНрждрзНрж░ржгржЗ ржЖрж╕рж▓: ржорж╛рж░рзНржХрзЗржЯ ржирзЯ, ржирж┐ржЬрзЗрж░ ржЖржмрзЗржЧржХрзЗ ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рзБржиред",
        "рзи. 'ржЯрзНрж░рзЗржб ржирж╛ ржХрж░рж╛ржУ' ржПржХржЯрж┐ рж╕рж┐ржжрзНржзрж╛ржирзНржд: рж╕ржм рж╕ржорзЯ ржорж╛рж░рзНржХрзЗржЯрзЗ ржерж╛ржХрж╛ ржЬрж░рзБрж░рж┐ ржирзЯред",
        "рзй. ржнрзЯ ржпржЦржи ржПрж▓рж╛рж░рзНржо: ржнрзЯржХрзЗ рж╢рж┐ржХрзНрж╖рж╛ рж╣рж┐рж╕рзЗржмрзЗ ржирж┐ржи, рж╢рждрзНрж░рзБ рж╣рж┐рж╕рзЗржмрзЗ ржирзЯред",
        "рзк. ржЕрждрж┐-ржЖрждрзНржоржмрж┐рж╢рзНржмрж╛рж╕ ржерзЗржХрзЗ рж╕рж╛ржмржзрж╛ржи: ржЯрж╛ржирж╛ ржЬрзЯрзЗ ржирж┐рзЯржо ржнрж╛ржЩржмрзЗржи ржирж╛ред",
        "рзл. ржорж╛ржирж╕рж┐ржХрждрж╛ржЗ рж╕ржм: ржЯрзНрж░рзЗржб рж╢рзБрж░рзБрж░ ржЖржЧрзЗ ржоржиржХрзЗ 'рж░рж┐рж╕рзЗржЯ' ржХрж░рзБржиред",
        "рзм. рж╢рзГржЩрзНржЦрж▓рж╛ ржпржЦржи ржкрж░рж┐ржЪрзЯ: ржорзЛржЯрж┐ржнрзЗрж╢ржи ржирж╛ ржерж╛ржХрж▓рзЗржУ ржкрзНрж░рждрж┐ржжрж┐ржи ржирж┐рзЯржо ржорж╛ржирзБржиред",
        "рзн. рж▓рж╕ рж╣рж▓рзЛ 'ржЯрж┐ржЙрж╢ржи ржлрж┐': рж▓рж╕ ржерзЗржХрзЗ рж╢рж┐ржХрзНрж╖рж╛ ржирж┐рзЯрзЗ рж╕рж╛ржоржирзЗ ржПржЧрзЛржиред",
        "рзо. ржзрзИрж░рзНржп ржПржмржВ рж╕ржарж┐ржХ рж╕ржорзЯ: ржЖржмрзЗржЧржХрзЗ рж╕рж░рж┐рзЯрзЗ рж╕ржарж┐ржХ ржЯрж╛ржЗржорж┐ржВрзЯрзЗрж░ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзБржиред",
        "рзп. рж╕рзНржмржЪрзНржЫрждрж╛ ржмрж╛ рж╕рзНржкрж╖рзНржЯрждрж╛: ржирж┐ржЬрзЗрж░ ржнрзБрж▓ рж╕рзНржмрзАржХрж╛рж░ ржХрж░рзЗ ржбрзЗржЯрж╛рж░ ржУржкрж░ ржлрзЛржХрж╛рж╕ ржХрж░рзБржиред",
        "рззрзж. ржжрзГрзЭ ржмрж┐рж╢рзНржмрж╛рж╕ ржмржирж╛ржо ржЖрж╢рж╛: 'ржЖрж╢рж╛' ржирж┐рзЯрзЗ ржирзЯ, рж╕рзЗржЯржЖржкрзЗрж░ ржУржкрж░ 'ржмрж┐рж╢рзНржмрж╛рж╕' ржирж┐рзЯрзЗ ржЯрзНрж░рзЗржб ржХрж░рзБржиред"
    ]
    
    # ржЖржЬржХрзЗрж░ рждрж╛рж░рж┐ржЦ ржЕржирзБржпрж╛рзЯрзА рззрзжржЯрж┐ рж░рзБрж▓рзЗрж░ ржоржзрзНржпрзЗ рззржЯрж┐ ржжрзЗржЦрж╛ржмрзЗ
    ist_tz = pytz.timezone('Asia/Kolkata')
    today_day = datetime.datetime.now(ist_tz).day
    rule_index = today_day % len(TRADING_RULES)
    
    st.markdown("### ЁЯТб ржЖржЬржХрзЗрж░ ржЧрзЛрж▓рзНржбрзЗржи рж░рзБрж▓")
    st.info(f"**{TRADING_RULES[rule_index]}**")
    st.divider()
    # ==========================================
    
    is_crypto_mode = (market_mode != "ЁЯЗоЁЯЗ│ Indian Market (NSE)")
